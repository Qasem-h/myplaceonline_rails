<%= render layout: "shared/model_show" do %>

  <%= attribute_table_row(t("myplaceonline.file_folders.folder_name"), @obj.folder_name) %>
  
  <% content_for :aftertable do %>
    <%
      files = @obj.identity_files
      if files.size > 0
    %>
        <div class="searchable_container">
          <ul class="searchable" data-role="listview" data-inset="true">
            <li data-role="list-divider"><%= t("myplaceonline.file_folders.files") %></li>
            <% files.each do |file| %>
              <li>
                <%= link_to file.display, send("file_path", file) %>
              </li>
            <% end %>
          </ul>
        </div>
    <% end %>
    <%
      subfolders = @obj.subfolders
      if subfolders.size > 0
    %>
        <div class="searchable_container">
          <ul class="searchable" data-role="listview" data-inset="true">
            <li data-role="list-divider"><%= t("myplaceonline.file_folders.subfolders") %></li>
            <% subfolders.each do |subfolder| %>
              <li>
                <%= link_to controller.display_obj(subfolder), send("file_folder_path", subfolder) %>
              </li>
            <% end %>
          </ul>
        </div>
    <% end %>
  <% end %>

  <% content_for :prefooterlinks do %>
    <li><%= link_to t('myplaceonline.files.add_file'), new_file_path(folder: @obj.id), "data-icon" => "plus" %></li>
  <% end %>

  <% if !@obj.parent_folder.nil? %>
    <% content_for :postfooterlinks do %>
      <li><%= link_to t('myplaceonline.file_folders.parent_folder'), file_folder_path(@obj.parent_folder), "data-icon" => "back" %></li>
    <% end %>
  <% end %>

<% end %>
