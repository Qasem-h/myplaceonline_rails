<%=
  render partial: 'myplaceonline/select_or_create', locals: {
    f: f,
    name: :location,
    existingobj: obj.location,
    heading: t("myplaceonline.trips.location"),
    objform: "locations/form",
    existingobjurl: "location_path",
    searchurl: "/locations.json?perpage=0",
    edit: edit,
    autofocus: true
  }
%>
<%= myp_date_field(f, :started, "myplaceonline.trips.started", obj.started) %>
<%= myp_date_field(f, :ended, "myplaceonline.trips.ended", obj.ended) %>
<%= myp_text_area_markdown(f, :notes, "myplaceonline.trips.notes", obj.notes) %>
<%= myp_check_box(f, :work, "myplaceonline.trips.work") %>
<%=
  render partial: "myplaceonline/pictures_form", locals: {
    f: f,
    obj: obj,
    pictures_field: :trip_pictures
  }
%>
<%=
  render partial: 'myplaceonline/select_or_create', locals: {
    f: f,
    name: :hotel,
    existingobj: obj.hotel,
    heading: t("myplaceonline.trips.hotel"),
    objform: "hotels/form",
    existingobjurl: "hotel_path",
    searchurl: "/hotels.json?perpage=0",
    edit: edit,
    autofocus: false,
    collapsed: obj.hotel.nil?
  }
%>
