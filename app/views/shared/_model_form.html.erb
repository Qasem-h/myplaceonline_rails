<%= form_for @obj, :url => @url, :remote => controller.may_upload, data: { ajax: !controller.may_upload } do |f| %>
  <% if @obj.errors.any? %>
    <div class="errors">
      <ul>
      <% @obj.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
  <%= render partial: form_name, locals: { f: f } %>
  <hr />
  <p>
    <%= f.submit t("myplaceonline.general.save") + " " + t("myplaceonline.category." + controller.category_name).singularize %>
  </p>
  
<script type="text/javascript">
onPageLoad(function() {
  maybeFocus(".autofocus");
});
</script>
<% end %>
